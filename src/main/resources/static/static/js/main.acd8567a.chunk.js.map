{"version":3,"sources":["constants/actionTypes.js","components/Header.js","components/App.js","middleware.js","reducers/common.js","store.js","reducers/auth.js","reducers/points.js","components/PointRow.js","components/PointsList.js","components/Home/MainView.js","components/ListErrors.js","components/Home/PointInput.js","components/Home/Graphic.js","components/Home/index.js","components/Login.js","components/Register.js","index.js","agent.js"],"names":["LOGIN","LoggedOutView","props","currentUser","className","to","LoggedInView","onClick","logout","Header","this","appName","onClickLogout","React","Component","connect","dispatch","type","payload","agent","Auth","App","token","window","localStorage","getItem","username","setToken","onLoad","nextProps","redirectTo","context","router","replace","onRedirect","children","contextTypes","PropTypes","object","isRequired","state","common","points","defaultState","reducers","combineReducers","auth","action","inProgress","errors","error","message","subtype","key","value","appLoaded","parseFloat","isNaN","Number","String","lastIndexOf","length","xc","yc","rc","point","points_r","current_r","r","middleware","applyMiddleware","store","next","v","then","res","response","body","setItem","removeItem","Points","all","recalculated","createStore","PointRow","id","x","substring","y","result","PointsList","sort","a","b","map","ListErrors","PointInput","changeX","ev","onChangeX","target","changeY","onChangeY","changeR","onChangeR","submitForm","preventDefault","onSubmit","msg","onChange","placeholder","onUpdate","disabled","onChangeMsg","new","changeWithMsg","varname","Graphic","addPointFromCanvas","bind","recalculatedPoints","drawGraphic","width","height","ref","node","graphic","drawPoint","hit","getContext","beginPath","arc","Math","round","PI","closePath","strokeStyle","color","fillStyle","fill","stroke","console","log","br","getBoundingClientRect","left","top","event","clientX","clientY","xCalculated","yCalculated","onCanvasClick","clearRect","rect","moveTo","lineTo","font","fillText","Home","Login","changeUsername","onChangeUsername","changePassword","onChangePassword","password","login","Register","register","ReactDOM","render","history","browserHistory","path","component","document","getElementById","superagent","superagentPromise","_superagent","global","Promise","API_ROOT","responseBody","tokenPlugin","req","set","requests","url","get","use","post","_token"],"mappings":"sSAEaA,EAAQ,QCIfC,EAAgB,SAAAC,GAClB,OAAKA,EAAMC,YAmBJ,KAjBC,wBAAIC,UAAU,gCAEV,wBAAIA,UAAU,YACV,kBAAC,OAAD,CAAMC,GAAG,QAAQD,UAAU,YAA3B,YAKJ,wBAAIA,UAAU,YACV,kBAAC,OAAD,CAAMC,GAAG,WAAWD,UAAU,YAA9B,cAWdE,EAAe,SAAAJ,GAEjB,OAAIA,EAAMC,YAEF,wBAAIC,UAAU,gCAEV,wBAAIA,UAAU,YACLF,EAAMC,aAGf,wBAAIC,UAAU,YACV,kBAAC,OAAD,CAAMC,GAAG,IAAKE,QAASL,EAAMM,OAAQJ,UAAU,YAA/C,YAST,MASLK,E,iLAGE,OACI,yBAAKL,UAAU,uBACX,yBAAKA,UAAU,aAEX,kBAAC,OAAD,CAAMC,GAAG,IAAID,UAAU,gBAClBM,KAAKR,MAAMS,QACZ,6BAFJ,kFAGI,6BAHJ,kDAMA,kBAAC,EAAD,CAAeR,YAAaO,KAAKR,MAAMC,cAEvC,kBAAC,EAAD,CAAcA,YAAaO,KAAKR,MAAMC,YAAaK,OAAQE,KAAKR,MAAMU,sB,GAfrEC,IAAMC,WAsBZC,qBAAQ,iBAAO,MA5BH,SAAAC,GAAQ,MAAK,CACpCJ,cAAe,WACXI,EAAS,CAAEC,KD9CG,SC8CWC,QAASC,IAAMC,KAAKZ,eA0BtCO,CAAwCN,GC5DjDY,E,6LAEE,IAAMC,EAAQC,OAAOC,aAAaC,QAAQ,SACpCC,EAAWH,OAAOC,aAAaC,QAAQ,YACzCH,GACAH,IAAMQ,SAASL,GAGnBZ,KAAKR,MAAM0B,OAAOF,EAAUJ,K,gDAGNO,GAClBA,EAAUC,aACVpB,KAAKqB,QAAQC,OAAOC,QAAQJ,EAAUC,YACtCpB,KAAKR,MAAMgC,gB,+BAKf,OACI,6BACI,kBAAC,EAAD,CACI/B,YAAaO,KAAKR,MAAMC,YACxBQ,QAASD,KAAKR,MAAMS,UAEvBD,KAAKR,MAAMiC,c,GAzBVtB,IAAMC,WAgCxBO,EAAIe,aAAe,CACfJ,OAAQnB,IAAMwB,UAAUC,OAAOC,YAGpBxB,yBAlDS,SAAAyB,GAAK,MAAK,CAC9B7B,QAAS6B,EAAMC,OAAO9B,QACtBR,YAAaqC,EAAMC,OAAOtC,YAC1BuC,OAAQF,EAAME,OAAOA,OACrBZ,WAAYU,EAAMC,OAAOX,eAGF,SAAAd,GAAQ,MAAK,CACpCY,OAAQ,SAACF,EAAUJ,GAAX,OACJN,EAAS,CAAEC,KFfK,WEeWS,WAAUJ,WACzCY,WAAY,kBACRlB,EAAS,CAAEC,KFVK,iBEiDTF,CAA6CM,G,yBCtB5D,I,eC1BMsB,EAAe,CACjBhC,QAAS,wHACTW,MAAO,MCHLsB,EAAWC,0BAAgB,CAC7BC,KCDW,WAAyB,IAAxBN,EAAuB,uDAAf,GAAIO,EAAW,uCACnC,OAAQA,EAAO9B,MACX,KAAKjB,EACL,INPgB,WMQZ,OAAO,eACAwC,EADP,CAEIQ,YAAY,EACZC,OAAQF,EAAOG,MAAQH,EAAO7B,QAAQiC,QAAU,OAExD,INXmB,cMYf,OAAIJ,EAAOK,UAAYpD,GNdX,aMcoB+C,EAAOK,QAC5B,eAAKZ,EAAZ,CAAmBQ,YAAY,IAE5BR,EACX,INfyB,oBMgBrB,OAAO,eAAKA,EAAZ,eAAoBO,EAAOM,IAAMN,EAAOO,QAC5C,QACI,OAAOd,IDffC,ODIW,WAAmC,IAAlCD,EAAiC,uDAAzBG,EAAcI,EAAW,uCAC7C,OAAQA,EAAO9B,MACX,IJfgB,WIgBZ,OAAO,eACAuB,EADP,CAEIlB,MAAOyB,EAAOzB,OAAS,KACvBiC,WAAW,EACXpD,YAAa4C,EAAOrB,UAAY,OAExC,IJfgB,WIgBZ,OAAO,eAAKc,EAAZ,CAAmBV,WAAY,OACnC,IJhBc,SIiBV,OAAO,eAAKU,EAAZ,CAAmBV,WAAY,IAAKR,MAAO,KAAMnB,YAAa,OAClE,KAAKH,EACD,OAAO,eACAwC,EADP,CAEIV,WAAYiB,EAAOG,MAAQ,KAAO,IAClC/C,YAAa4C,EAAOG,MAAQ,KAAOH,EAAOrB,WAElD,IJ7BgB,WI8BZ,OAAO,eACAc,EADP,CAEIV,WAAYiB,EAAOG,MAAQ,KAAO,WAE1C,QACI,OAAOV,IC5BfE,OEFW,WAA6C,IAA5CF,EAA2C,uDAArC,CAAC,GAAK,EAAG,GAAK,EAAG,GAAK,GAAIO,EAAW,uCACvD,OAAQA,EAAO9B,MACX,IPA0B,qBOAA,IAAD,EACjBkC,EAAU,GAoBd,OAnBiB,MAAZJ,EAAOM,MAAcG,WAAWT,EAAOO,SAAW,GAAKE,WAAWT,EAAOO,QAAU,GAAQG,MAAOC,OAAOX,EAAOO,SAAYK,OAAOZ,EAAOO,OAAOM,YAAY,MAASb,EAAOO,MAAMO,OAAS,KACxLL,WAAWhB,EAAMsB,MAAQ,GAAKN,WAAWhB,EAAMsB,KAAM,GAAQL,MAAOC,OAAOlB,EAAMsB,MAASH,OAAOnB,EAAMsB,IAAIF,YAAY,MAASpB,EAAMsB,GAAGD,OAAS,IAAoB,MAAZd,EAAOM,OAGtKF,GAAW,6DAEE,MAAZJ,EAAOM,MAAcG,WAAWT,EAAOO,SAAW,GAAKE,WAAWT,EAAOO,QAAU,GAAQG,MAAOC,OAAOX,EAAOO,SAAYK,OAAOZ,EAAOO,OAAOM,YAAY,MAASb,EAAOO,MAAMO,OAAS,KACxLL,WAAWhB,EAAMuB,MAAQ,GAAKP,WAAWhB,EAAMuB,KAAM,GAAQN,MAAOC,OAAOlB,EAAMuB,MAASJ,OAAOnB,EAAMuB,IAAIH,YAAY,MAASpB,EAAMuB,GAAGF,OAAS,IAAoB,MAAZd,EAAOM,OAGtKF,GAAW,6DAEE,MAAZJ,EAAOM,MAAcG,WAAWT,EAAOO,QAAU,GAAKE,WAAWT,EAAOO,QAAS,IAAUE,WAAWhB,EAAMwB,KAAO,GAAiB,MAAZjB,EAAOM,OAEhIF,GAAW,iJACK,MAAZJ,EAAOM,MACPN,EAAOO,MAAQ,IAGhB,eAAKd,GAAZ,mBAAoBO,EAAOM,IAAMN,EAAOO,OAAxC,wBAA+CH,GAA/C,IAEJ,IPtB2B,sBOuBvB,OAAO,eACAX,EADP,aAEIW,QAASJ,EAAOI,SACfJ,EAAOM,IAAMN,EAAOO,QAE7B,IPzBmB,cO0Bf,OAAO,eACAd,EADP,CAEIyB,MAAOlB,EAAO7B,UAEtB,IPhCqB,gBOiCjB,OAAO,eACAsB,EADP,CAEIE,OAAQK,EAAO7B,UAEvB,IPpC2B,sBOqCvB,OAAO,eACAsB,EADP,CAEI0B,SAAUnB,EAAO7B,QACjBiD,UAAWpB,EAAOqB,IAE1B,QACI,OAAO5B,MF3Cb6B,EAAaC,2BFJO,SAAAC,GAAK,OAAI,SAAAC,GAAI,OAAI,SAAAzB,GACvC,IAoBe0B,EApBD1B,EAAO7B,UAqBS,oBAAXuD,EAAEC,KAPjB,OAbAH,EAAMvD,SAAS,CAAEC,KHNE,cGMiBmC,QAASL,EAAO9B,YACpD8B,EAAO7B,QAAQwD,MACX,SAAAC,GACI5B,EAAO7B,QAAUyD,EACjBJ,EAAMvD,SAAS+B,MAEnB,SAAAG,GACIH,EAAOG,OAAQ,EACfH,EAAO7B,QAAUgC,EAAM0B,SAASC,KAChCN,EAAMvD,SAAS+B,MAU/B,IAAmB0B,EAHfD,EAAKzB,QA+Bc,SAAAwB,GAAK,OAAI,SAAAC,GAAI,OAAI,SAAAzB,GAEpC,OAAQA,EAAO9B,MACX,KAAKjB,EACI+C,EAAOG,QACR3B,OAAOC,aAAasD,QAAQ,QAAS/B,EAAO7B,QAAQiC,SACpD5B,OAAOC,aAAasD,QAAQ,WAAY/B,EAAOrB,UAC/CP,IAAMQ,SAASoB,EAAO7B,QAAQiC,UAElC,MACJ,IH5Dc,SG6DV5B,OAAOC,aAAauD,WAAW,SAC/BxD,OAAOC,aAAauD,WAAW,YAC/B5D,IAAMQ,SAAS,MAMvB6C,EAAKzB,QA3CgB,SAAAwB,GAAK,OAAI,SAAAC,GAAI,OAAI,SAAAzB,GAEtC,OAAQA,EAAO9B,MACX,IHzBqB,gBG0Bb8B,EAAOG,QACP3B,OAAOC,aAAauD,WAAW,SAC/BxD,OAAOC,aAAauD,WAAW,YAC/B5D,IAAMQ,SAAS,OAEnB,MACJ,IH9BmB,cG+BVoB,EAAOG,QACRqB,EAAMvD,SAAS,CAAEC,KHlCJ,gBGkCyBC,QAASC,IAAM6D,OAAOC,QAC5DV,EAAMvD,SAAS,CAAEC,KHlCE,sBGkCyBC,QAASC,IAAM6D,OAAOE,aAAanC,EAAOqB,GAAIA,EAAGrB,EAAOqB,KAOhHI,EAAKzB,QErCMwB,EAFDY,sBAAYvC,EAAUyB,GGGrBe,EAhBE,SAAAlF,GACb,IAAM+D,EAAQ/D,EAAM+D,MAEpB,OACI,+BACA,4BACI,4BAAKA,EAAMoB,IACX,4BAAK1B,OAAOM,EAAMqB,GAAGC,UAAU,EAAG,KAClC,4BAAK5B,OAAOM,EAAMuB,GAAGD,UAAU,EAAG,KAClC,4BAAKtB,EAAMG,GACX,4BAAKH,EAAMwB,OAAS,eAAO,yBCkCxBC,EA3CI,SAAAxF,GACf,OAAIA,EAAMC,YACDD,EAAMwC,OAMiB,IAAxBxC,EAAMwC,OAAOmB,OAET,yBAAKzD,UAAU,UAAf,kJAOJ,6BACI,+BACI,+BACA,4BACI,kCACA,iCACA,iCACA,iCACA,qCAKJF,EAAMwC,OAAOiD,MAAK,SAACC,EAAEC,GAAH,OAASA,EAAER,GAAGO,EAAEP,MAAIS,KAAI,SAAA7B,GACtC,OACI,kBAAC,EAAD,CAAUA,MAAOA,EAAOZ,IAAKY,EAAMoB,UA5B/C,yBAAKjF,UAAU,UAAf,cAoCD,MCzBAW,qBAdS,SAAAyB,GAAK,MAAK,CAC9BE,OAAQF,EAAME,OAAOA,OACrBvC,YAAaqC,EAAMC,OAAOtC,gBAYU,iBAAO,KAAhCY,EATE,SAAAb,GACb,OACI,yBAAKE,UAAU,yBACX,kBAAC,EAAD,CACIsC,OAAQxC,EAAMwC,OAAQvC,YAAaD,EAAMC,kBCM1C4F,E,iLAfP,IAAM9C,EAASvC,KAAKR,MAAM+C,OAC1B,OAAIA,EAEI,wBAAI7C,UAAU,kBACV,wBAAIiD,IAAKJ,GACJA,IAKN,S,GAZMpC,IAAMC,W,QCyBzBkF,E,2MAEFC,QAAU,SAAAC,GAAE,OAAI,EAAKhG,MAAMiG,UAAUD,EAAGE,OAAO9C,MAAMiC,UAAU,EAAG,M,EAElEc,QAAU,SAAAH,GAAE,OAAI,EAAKhG,MAAMoG,UAAUJ,EAAGE,OAAO9C,MAAMiC,UAAU,EAAG,M,EAElEgB,QAAU,SAAAL,GAAE,OAAI,EAAKhG,MAAMsG,UAAUN,EAAG5C,Q,EAGxCmD,WAAa,SAACnB,EAAGE,EAAGpB,GAAP,OAAa,SAAA8B,GACtBA,EAAGQ,iBAEH,EAAKxG,MAAMyG,SAASrB,EAAGE,EAAGpB,K,wEAI1B,IAAMkB,EAAI5E,KAAKR,MAAM4D,GACf0B,EAAI9E,KAAKR,MAAM6D,GACfK,EAAI1D,KAAKR,MAAM8D,GACf4C,EAAMlG,KAAKR,MAAMiD,QAIvB,OACI,yBAAK/C,UAAU,aACX,yBAAKA,UAAU,kBACX,yBAAKA,UAAU,OAEX,yBAAKA,UAAU,kCAEX,kBAAC,EAAD,CAAY6C,OAAQvC,KAAKR,MAAM+C,SAE/B,0BAAM0D,SAAUjG,KAAK+F,WAAWnB,EAAGE,EAAGpB,IAClC,kCAEI,yBAAKhE,UAAU,WAAWwG,GAE1B,8BAAUxG,UAAU,cAApB,KACM,kBAAC,YAAD,CAAWA,UAAU,+BAA+ByG,SAAUnG,KAAKuF,QAAS3C,MAAOgC,EAAGwB,YAAY,YAGxG,8BAAU1G,UAAU,cAApB,KACM,kBAAC,YAAD,CAAWA,UAAU,+BAA+ByG,SAAUnG,KAAK2F,QAAS/C,MAAOkC,EAAGsB,YAAY,YAGxG,8BAAU1G,UAAU,cAApB,KACM,kBAAC,YAAD,CAAWA,UAAU,+BAA+B2G,SAAUrG,KAAK6F,QAASjD,MAAOc,EAAG0C,YAAY,YAIxG,4BACI1G,UAAU,uCACVa,KAAK,SACL+F,SAAUJ,GAAc,IAAPA,GAHrB,mB,GAlDX/F,IAAMC,WAqEhBC,qBAzFS,SAAAyB,GAAK,sBAAUA,EAAME,WAGlB,SAAA1B,GAAQ,MAAK,CACpCmF,UAAW,SAAA7C,GAAK,OACZtC,EAAS,CAAEC,KZFe,qBYEWoC,IAAK,KAAMC,WACpDgD,UAAW,SAAAhD,GAAK,OACZtC,EAAS,CAAEC,KZJe,qBYIWoC,IAAK,KAAMC,WACpDkD,UAAW,SAAAlD,GAAK,OACZtC,EAAS,CAAEC,KZNe,qBYMWoC,IAAK,KAAMC,WACpD2D,YAAa,SAAA3D,GAAK,OACdtC,EAAS,CAAEC,KZRe,qBYQWoC,IAAK,UAAWC,WACzDqD,SAAU,SAACrB,EAAGE,EAAGpB,GACbpD,EAAS,CAAEC,KZNQ,cYMWC,QAASC,IAAM6D,OAAOkC,IAAI5B,EAAGE,EAAGpB,GAAIA,OAEtE+C,cAAe,SAACC,EAAS9D,EAAOsD,GAC5B5F,EAAS,CAAEC,KZZgB,sBYYWoC,IAAK+D,EAAS9D,QAAOH,QAASyD,QAyE7D7F,CAA6CiF,G,QC5EtDqB,E,2MAEFC,mBAAqB,EAAKA,mBAAmBC,KAAxB,gB,oFAIjB7G,KAAKR,MAAMsH,mBAAmB,K,0CAI9B9G,KAAK+G,YAAY,K,+BAGX,IAAD,OACL,OACI,yBAAKrH,UAAU,WACX,4BAAQsH,MAAM,MAAMC,OAAO,MAAMC,IAAK,SAAAC,GAAI,OAAI,EAAKC,QAAUD,GAAMtH,QAASG,KAAK4G,wB,gDAMnEzF,GAAW,IAAD,OAC5BA,EAAUmC,KACVtD,KAAK+G,YAAY5F,EAAUmC,IACtBnC,EAAUsC,WAAatC,EAAUsC,YAActC,EAAUmC,IAC1DtD,KAAKR,MAAMsH,mBAAmB3F,EAAUmC,KAE5CnC,EAAUa,QACVb,EAAUa,OAAOoD,KAAI,SAAA7B,GAAK,OAAI,EAAK8D,UAAU9D,Q,gCAI3CA,GAEN,IAAIqB,EAAIrB,EAAMqB,EAAGE,EAAIvB,EAAMuB,EAAGwC,EAAM/D,EAAMwB,OAItC1D,EAAUrB,KAAKoH,QAAQG,WAAW,MAEtClG,EAAQmG,YACRnG,EAAQoG,IAAIC,KAAKC,MAAM,IAAQ/C,EAAI,EAAK,KAAQ,EAAG8C,KAAKC,MAAM,IAAQ7C,EAAI,EAAK,KAAQ,EAAG,EAAG,EAAW,EAAR4C,KAAKE,IAAM,GAE3GvG,EAAQwG,YACRxG,EAAQyG,YAAc,QAEtB,IAAIC,EAAQ,MAERT,IACAS,EAAQ,QAGZ1G,EAAQ2G,UAAYD,EACpB1G,EAAQ4G,OACR5G,EAAQ6G,W,yCAIO1C,GAEf,GADA2C,QAAQC,IAAR,mBAAwBpI,SACpBA,KAAKR,MAAM8D,IAAM,GAArB,CAEA,IAAI+E,EAAKrI,KAAKoH,QAAQkB,wBAClBC,EAAOF,EAAGE,KACVC,EAAMH,EAAGG,IAETC,EAAQjD,EACRZ,EAAI6D,EAAMC,QAAUH,EACpBzD,EAAI2D,EAAME,QAAUH,EACxBL,QAAQC,IAAR,YAAiBxD,EAAjB,cAAwBE,IAExB,IAAI8D,GAAehE,EAAI,KAAO,IAAM,EAChCiE,GAAoB,IAAJ/D,GAAW,IAAM,EAErC9E,KAAKR,MAAMsJ,cAAcF,EAAaC,EAAa7I,KAAKR,MAAM8D,IAAM,M,kCAI5DI,GACRyE,QAAQC,IAAI,0BAA0B1E,GACtC,IAAIrC,EAAUrB,KAAKoH,QAAQG,WAAW,MACtClG,EAAQ0H,UAAU,EAAG,EAAG/I,KAAKoH,QAAQJ,MAAOhH,KAAKoH,QAAQH,QAGzD5F,EAAQmG,YACRnG,EAAQ2H,KAAK,IAAM,GAAFtF,EAAK,EAAG,IAAM,GAAFA,EAAK,EAAO,GAAHA,EAAM,EAAO,GAAHA,EAAM,GACtDrC,EAAQwG,YACRxG,EAAQyG,YAAc,UACtBzG,EAAQ2G,UAAY,UACpB3G,EAAQ4G,OACR5G,EAAQ6G,SAGR7G,EAAQmG,YACRnG,EAAQ4H,OAAO,IAAK,KACpB5H,EAAQoG,IAAI,IAAK,IAAU/D,EAAE,EAAP,IAAW,EAAGgE,KAAKE,GAAG,GAAG,GAC/CvG,EAAQwG,YACRxG,EAAQyG,YAAc,UACtBzG,EAAQ2G,UAAY,UACpB3G,EAAQ4G,OACR5G,EAAQ6G,SAGR7G,EAAQmG,YACRnG,EAAQ4H,OAAO,IAAK,KACpB5H,EAAQ6H,OAAO,IAAM,GAAFxF,EAAK,EAAG,KAC3BrC,EAAQ6H,OAAO,IAAK,IAAM,GAAFxF,GACxBrC,EAAQ6H,OAAO,IAAK,KACpB7H,EAAQwG,YACRxG,EAAQyG,YAAc,UACtBzG,EAAQ2G,UAAY,UACpB3G,EAAQ4G,OACR5G,EAAQ6G,SAGR7G,EAAQmG,YACRnG,EAAQ8H,KAAO,eACf9H,EAAQyG,YAAc,QACtBzG,EAAQ2G,UAAY,QACpB3G,EAAQ4H,OAAO,IAAK,GACpB5H,EAAQ6H,OAAO,IAAK,KACpB7H,EAAQ4H,OAAO,IAAK,GACpB5H,EAAQ6H,OAAO,IAAK,IACpB7H,EAAQ4H,OAAO,IAAK,GACpB5H,EAAQ6H,OAAO,IAAK,IACpB7H,EAAQ+H,SAAS,IAAK,IAAK,IAC3B/H,EAAQ4H,OAAO,EAAG,KAClB5H,EAAQ6H,OAAO,IAAK,KACpB7H,EAAQ4H,OAAO,IAAK,KACpB5H,EAAQ6H,OAAO,IAAK,KACpB7H,EAAQ4H,OAAO,IAAK,KACpB5H,EAAQ6H,OAAO,IAAK,KACpB7H,EAAQ+H,SAAS,IAAK,IAAK,KAG3B/H,EAAQ4H,OAAO,IAAK,IACpB5H,EAAQ6H,OAAO,IAAK,IACpB7H,EAAQ+H,SAAS,KAAM,IAAK,IAC5B/H,EAAQ4H,OAAO,IAAK,IACpB5H,EAAQ6H,OAAO,IAAK,IACpB7H,EAAQ+H,SAAS,KAAM,IAAK,IAC5B/H,EAAQ4H,OAAO,IAAK,IACpB5H,EAAQ6H,OAAO,IAAK,IACpB7H,EAAQ+H,SAAS,KAAM,IAAK,IAC5B/H,EAAQ4H,OAAO,IAAK,IACpB5H,EAAQ6H,OAAO,IAAK,IACpB7H,EAAQ+H,SAAS,KAAM,IAAK,IAC5B/H,EAAQ4H,OAAO,IAAK,KACpB5H,EAAQ6H,OAAO,IAAK,KACpB7H,EAAQ+H,SAAS,KAAM,IAAK,KAE5B/H,EAAQ4H,OAAO,IAAK,KACpB5H,EAAQ6H,OAAO,IAAK,KACpB7H,EAAQ+H,SAAS,KAAM,IAAK,KAC5B/H,EAAQ4H,OAAO,IAAK,KACpB5H,EAAQ6H,OAAO,IAAK,KACpB7H,EAAQ+H,SAAS,KAAM,IAAK,KAC5B/H,EAAQ4H,OAAO,IAAK,KACpB5H,EAAQ6H,OAAO,IAAK,KACpB7H,EAAQ+H,SAAS,KAAM,IAAK,KAC5B/H,EAAQ4H,OAAO,IAAK,KACpB5H,EAAQ6H,OAAO,IAAK,KACpB7H,EAAQ+H,SAAS,KAAM,IAAK,KAC5B/H,EAAQ4H,OAAO,IAAK,KACpB5H,EAAQ6H,OAAO,IAAK,KACpB7H,EAAQ+H,SAAS,KAAM,IAAK,KAG5B/H,EAAQ4H,OAAO,GAAI,KACnB5H,EAAQ6H,OAAO,GAAI,KACnB7H,EAAQ+H,SAAS,KAAM,GAAI,KAC3B/H,EAAQ4H,OAAO,GAAI,KACnB5H,EAAQ6H,OAAO,GAAI,KACnB7H,EAAQ+H,SAAS,KAAM,GAAI,KAC3B/H,EAAQ4H,OAAO,GAAI,KACnB5H,EAAQ6H,OAAO,GAAI,KACnB7H,EAAQ+H,SAAS,KAAM,GAAI,KAC3B/H,EAAQ4H,OAAO,GAAI,KACnB5H,EAAQ6H,OAAO,GAAI,KACnB7H,EAAQ+H,SAAS,KAAM,GAAI,KAC3B/H,EAAQ4H,OAAO,IAAK,KACpB5H,EAAQ6H,OAAO,IAAK,KACpB7H,EAAQ+H,SAAS,KAAM,IAAK,KAE5B/H,EAAQ4H,OAAO,IAAK,KACpB5H,EAAQ6H,OAAO,IAAK,KACpB7H,EAAQ+H,SAAS,KAAM,IAAK,KAC5B/H,EAAQ4H,OAAO,IAAK,KACpB5H,EAAQ6H,OAAO,IAAK,KACpB7H,EAAQ+H,SAAS,KAAM,IAAK,KAC5B/H,EAAQ4H,OAAO,IAAK,KACpB5H,EAAQ6H,OAAO,IAAK,KACpB7H,EAAQ+H,SAAS,KAAM,IAAK,KAC5B/H,EAAQ4H,OAAO,IAAK,KACpB5H,EAAQ6H,OAAO,IAAK,KACpB7H,EAAQ+H,SAAS,KAAM,IAAK,KAC5B/H,EAAQ4H,OAAO,IAAK,KACpB5H,EAAQ6H,OAAO,IAAK,KACpB7H,EAAQ+H,SAAS,KAAM,IAAK,KAE5B/H,EAAQwG,YACRxG,EAAQyG,YAAc,QACtBzG,EAAQ2G,UAAY,QACpB3G,EAAQ6G,a,GA5MM/H,IAAMC,WAkNbC,qBAjOS,SAAAyB,GAAK,MAAK,CAC9BE,OAAQF,EAAME,OAAOwB,SACrBF,GAAIxB,EAAME,OAAOsB,GACjBG,UAAW3B,EAAME,OAAOyB,cAGD,SAAAnD,GAAQ,MAAK,CACpCwG,mBAAoB,SAACpD,GACjBpD,EAAS,CAAEC,KbAgB,sBaAWC,QAASC,IAAM6D,OAAOE,aAAad,GAAIA,OAEjFoF,cAAe,SAAClE,EAAGE,EAAGpB,GAClBpD,EAAS,CAAEC,KbFQ,caEWC,QAASC,IAAM6D,OAAOkC,IAAI5B,EAAGE,EAAGpB,GAAIA,UAsN3DrD,CAA6CsG,GCpNtD0C,E,6LAIMrJ,KAAKR,MAAMC,aACXO,KAAKR,MAAM0B,OAAOT,IAAM6D,OAAOC,S,+BAInC,OAAIvE,KAAKR,MAAMC,YAEP,yBAAKC,UAAU,aAEX,kBAAC,EAAD,MACA,kBAAC,EAAD,MAEA,yBAAKA,UAAU,+BACX,kBAAC,EAAD,QAML,S,GAvBAS,IAAMC,WA2BVC,qBArCS,SAAAyB,GAAK,MAAK,CAC9B7B,QAAS6B,EAAMC,OAAO9B,QACtBR,YAAaqC,EAAMC,OAAOtC,gBAGH,SAAAa,GAAQ,MAAK,CACpCY,OAAQ,SAACV,GAAD,OACJF,EAAS,CAAEC,KdHU,gBcGWC,gBA8BzBH,CAA6CgJ,GC3BtDC,E,2MAEFC,eAAiB,SAAA/D,GAAE,OAAI,EAAKhG,MAAMgK,iBAAiBhE,EAAGE,OAAO9C,Q,EAE7D6G,eAAiB,SAAAjE,GAAE,OAAI,EAAKhG,MAAMkK,iBAAiBlE,EAAGE,OAAO9C,Q,EAE7DmD,WAAa,SAAC/E,EAAU2I,GAAX,OAAwB,SAAAnE,GACjCA,EAAGQ,iBACH,EAAKxG,MAAMyG,SAASjF,EAAU2I,K,wEAI9B,IAAM3I,EAAWhB,KAAKR,MAAMwB,SACtB2I,EAAW3J,KAAKR,MAAMmK,SAC5B,OACI,yBAAKjK,UAAU,aACX,yBAAKA,UAAU,kBACX,yBAAKA,UAAU,OAEX,yBAAKA,UAAU,kCACX,wBAAIA,UAAU,kBAAd,WACA,uBAAGA,UAAU,kBACT,kBAAC,OAAD,CAAMC,GAAG,YAAT,qBAKJ,kBAAC,EAAD,CAAY4C,OAAQvC,KAAKR,MAAM+C,SAE/B,0BAAM0D,SAAUjG,KAAK+F,WAAW/E,EAAU2I,IACtC,kCAEI,8BAAUjK,UAAU,cAChB,2BACIA,UAAU,+BACVa,KAAK,QACL6F,YAAY,WACZxD,MAAO5B,EACPmF,SAAUnG,KAAKuJ,kBAGvB,8BAAU7J,UAAU,cAChB,2BACIA,UAAU,+BACVa,KAAK,WACL6F,YAAY,WACZxD,MAAO+G,EACPxD,SAAUnG,KAAKyJ,kBAGvB,4BACI/J,UAAU,uCACVa,KAAK,SACL+F,SAAUtG,KAAKR,MAAM8C,YAHzB,qB,GAlDhBnC,IAAMC,WAoEXC,qBA/ES,SAAAyB,GAAK,sBAAUA,EAAMM,SAElB,SAAA9B,GAAQ,MAAK,CACpCkJ,iBAAkB,SAAA5G,GAAK,OACnBtC,EAAS,CAAEC,KfLc,oBeKWoC,IAAK,WAAYC,WACzD8G,iBAAkB,SAAA9G,GAAK,OACnBtC,EAAS,CAAEC,KfPc,oBeOWoC,IAAK,WAAYC,WACzDqD,SAAU,SAACjF,EAAU2I,GAAX,OACNrJ,EAAS,CAAEC,KAAMjB,EAAOkB,QAASC,IAAMC,KAAKkJ,MAAM5I,EAAU2I,GAAW3I,iBAuEhEX,CAA6CiJ,GClEtDO,E,2MAEFJ,eAAiB,SAAAjE,GAAE,OAAI,EAAKhG,MAAMkK,iBAAiBlE,EAAGE,OAAO9C,Q,EAE7D2G,eAAiB,SAAA/D,GAAE,OAAI,EAAKhG,MAAMgK,iBAAiBhE,EAAGE,OAAO9C,Q,EAE7DmD,WAAa,SAAC/E,EAAU2I,GAAX,OAAwB,SAAAnE,GACjCA,EAAGQ,iBACH,EAAKxG,MAAMyG,SAASjF,EAAU2I,K,wEAI9B,IAAMA,EAAW3J,KAAKR,MAAMmK,SACtB3I,EAAWhB,KAAKR,MAAMwB,SAE5B,OACI,yBAAKtB,UAAU,aACX,yBAAKA,UAAU,kBACX,yBAAKA,UAAU,OAEX,yBAAKA,UAAU,kCACX,wBAAIA,UAAU,kBAAd,WACA,uBAAGA,UAAU,kBACT,kBAAC,OAAD,CAAMC,GAAG,SAAT,qBAKJ,kBAAC,EAAD,CAAY4C,OAAQvC,KAAKR,MAAM+C,SAE/B,0BAAM0D,SAAUjG,KAAK+F,WAAW/E,EAAU2I,IACtC,kCAEI,8BAAUjK,UAAU,cAChB,2BACIA,UAAU,+BACVa,KAAK,QACL6F,YAAY,WACZxD,MAAO5C,KAAKR,MAAMwB,SAClBmF,SAAUnG,KAAKuJ,kBAGvB,8BAAU7J,UAAU,cAChB,2BACIA,UAAU,+BACVa,KAAK,WACL6F,YAAY,WACZxD,MAAO5C,KAAKR,MAAMmK,SAClBxD,SAAUnG,KAAKyJ,kBAGvB,4BACI/J,UAAU,uCACVa,KAAK,SACL+F,SAAUtG,KAAKR,MAAM8C,YAHzB,qB,GAnDbnC,IAAMC,WAqEdC,qBAlFS,SAAAyB,GAAK,sBAAUA,EAAMM,SAElB,SAAA9B,GAAQ,MAAK,CACpCoJ,iBAAkB,SAAA9G,GAAK,OACnBtC,EAAS,CAAEC,KhBLc,oBgBKWoC,IAAK,WAAYC,WACzD4G,iBAAkB,SAAA5G,GAAK,OACnBtC,EAAS,CAAEC,KhBPc,oBgBOWoC,IAAK,WAAYC,WACzDqD,SAAU,SAACjF,EAAU2I,GACjB,IAAMnJ,EAAUC,IAAMC,KAAKoJ,SAAS9I,EAAU2I,GAC9CrJ,EAAS,CAAEC,KhBbK,WgBaWC,gBAyEpBH,CAA6CwJ,G,cC5E5DE,IAASC,OACL,kBAAC,WAAD,CAAUnG,MAAOA,GACb,kBAAC,SAAD,CAAQoG,QAASC,kBACb,kBAAC,QAAD,CAAOC,KAAK,IAAIC,UAAWzJ,GACvB,kBAAC,aAAD,CAAYyJ,UAAWf,IACvB,kBAAC,QAAD,CAAOc,KAAK,QAAQC,UAAWd,IAC/B,kBAAC,QAAD,CAAOa,KAAK,WAAWC,UAAWP,OAI/CQ,SAASC,eAAe,U,gCCvB3B,oDAGMC,EAAaC,IAAkBC,IAAaC,EAAOC,SAEnDC,EAAW,6BAEXC,EAAe,SAAA5G,GAAG,OAAIA,EAAIE,MAE5BvD,EAAQ,KACNkK,EAAc,SAAAC,GACZnK,GACAmK,EAAIC,IAAI,gBAAR,gBAAkCpK,KAIpCqK,EACG,SAAAC,GAAG,OACJX,EAAWY,IAAX,UAAkBP,GAAlB,OAA6BM,IAAOE,IAAIN,GAAa9G,KAAK6G,IAF5DI,EAGI,SAACC,EAAK/G,GAAN,OACFoG,EAAWc,KAAX,UAAmBT,GAAnB,OAA8BM,GAAO/G,GAAMiH,IAAIN,GAAa9G,KAAK6G,IAGnEvG,EAAS,CACXC,IAAK,kBACD0G,EAAa,YACjBzG,aAAc,SAACd,GAAD,OACVuH,EAAA,gCAAsCvH,KAC1C8C,IAAK,SAAC5B,EAAGE,EAAGpB,GAAP,OACDuH,EAAc,UAAW,CAACrG,EAAGA,EAAGE,EAAGA,EAAGpB,EAAGA,MAG3ChD,EAAO,CACTkJ,MAAO,SAAC5I,EAAU2I,GAAX,OACHsB,EAAc,eAAgB,CAAEjK,SAAUA,EAAU2I,SAAUA,KAClEG,SAAU,SAAC9I,EAAU2I,GAAX,OACNsB,EAAc,kBAAmB,CAAEjK,SAAUA,EAAU2I,SAAUA,KACrE7J,OAAQ,kBACJmL,EAAc,mBAGP,KACX3G,SACA5D,OACAO,SAAU,SAAAqK,GAAY1K,EAAQ0K,M","file":"static/js/main.acd8567a.chunk.js","sourcesContent":["export const APP_LOAD = 'APP_LOAD';\r\n\r\nexport const LOGIN = 'LOGIN';\r\nexport const REGISTER = 'REGISTER';\r\n\r\nexport const ASYNC_START = 'ASYNC_START';\r\nexport const UPDATE_FIELD_AUTH = 'UPDATE_FIELD_AUTH';\r\nexport const REDIRECT = 'REDIRECT';\r\nexport const LOGOUT = 'LOGOUT';\r\n\r\nexport const UPDATE_FIELD_POINT = 'UPDATE_FIELD_POINT';\r\nexport const UPDATE_WITH_MESSAGE = 'UPDATE_WITH_MESSAGE';\r\nexport const POINTS_LOADED = 'POINTS_LOADED';\r\nexport const POINTS_RECALCULATED = 'POINTS_RECALCULATED';\r\nexport const POINT_ADDED = 'POINT_ADDED';\r\n","import { Link } from 'react-router';\r\nimport React from 'react';\r\nimport agent from \"../agent\";\r\nimport {connect} from \"react-redux\";\r\nimport {LOGOUT} from \"../constants/actionTypes\";\r\n\r\nconst LoggedOutView = props => {\r\n    if (!props.currentUser) {\r\n        return (\r\n            <ul className=\"nav navbar-nav pull-xs-right\">\r\n\r\n                <li className=\"nav-item\">\r\n                    <Link to=\"login\" className=\"nav-link\">\r\n                        Sign in\r\n                    </Link>\r\n                </li>\r\n\r\n                <li className=\"nav-item\">\r\n                    <Link to=\"register\" className=\"nav-link\">\r\n                        Sign up\r\n                    </Link>\r\n                </li>\r\n\r\n            </ul>\r\n        );\r\n    }\r\n    return null;\r\n};\r\n\r\nconst LoggedInView = props => {\r\n\r\n    if (props.currentUser) {\r\n        return (\r\n            <ul className=\"nav navbar-nav pull-xs-right\">\r\n\r\n                <li className=\"nav-item\">\r\n                        {props.currentUser}\r\n                </li>\r\n\r\n                <li className=\"nav-item\">\r\n                    <Link to=\"/\"  onClick={props.logout} className=\"nav-link\">\r\n                        LogOut\r\n                    </Link>\r\n                </li>\r\n\r\n            </ul>\r\n        );\r\n    }\r\n\r\n    return null;\r\n};\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n    onClickLogout: () => {\r\n        dispatch({ type: LOGOUT, payload: agent.Auth.logout() })\r\n    },\r\n});\r\n\r\nclass Header extends React.Component {\r\n\r\n    render() {\r\n        return (\r\n            <nav className=\"navbar navbar-light\">\r\n                <div className=\"container\">\r\n\r\n                    <Link to=\"/\" className=\"navbar-brand\">\r\n                        {this.props.appName}\r\n                        <br/>Бекоев Андрей P3211\r\n                        <br/>Вариант 446\r\n                    </Link>\r\n\r\n                    <LoggedOutView currentUser={this.props.currentUser} />\r\n\r\n                    <LoggedInView currentUser={this.props.currentUser} logout={this.props.onClickLogout}/>\r\n                </div>\r\n            </nav>\r\n        );\r\n    }\r\n}\r\n\r\nexport default connect(() => ({}), mapDispatchToProps)(Header);\r\n","import '../App.css';\r\nimport Header from './Header';\r\nimport React from 'react';\r\nimport agent from '../agent';\r\nimport { connect } from 'react-redux';\r\nimport {APP_LOAD, REDIRECT} from \"../constants/actionTypes\";\r\nconst mapStateToProps = state => ({\r\n    appName: state.common.appName,\r\n    currentUser: state.common.currentUser,\r\n    points: state.points.points,\r\n    redirectTo: state.common.redirectTo\r\n});\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n    onLoad: (username, token) =>\r\n        dispatch({ type: APP_LOAD, username, token }),\r\n    onRedirect: () =>\r\n        dispatch({ type: REDIRECT })\r\n});\r\n\r\nclass App extends React.Component {\r\n    componentWillMount() {\r\n        const token = window.localStorage.getItem('token');\r\n        const username = window.localStorage.getItem('username');\r\n        if (token) {\r\n            agent.setToken(token);\r\n        }\r\n\r\n        this.props.onLoad(username, token);\r\n    }\r\n\r\n    componentWillReceiveProps(nextProps) {\r\n        if (nextProps.redirectTo) {\r\n            this.context.router.replace(nextProps.redirectTo);\r\n            this.props.onRedirect();\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div>\r\n                <Header\r\n                    currentUser={this.props.currentUser}\r\n                    appName={this.props.appName} />\r\n\r\n                {this.props.children}\r\n\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nApp.contextTypes = {\r\n    router: React.PropTypes.object.isRequired\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(App);\r\n","import agent from './agent';\r\nimport {\r\n    POINT_ADDED,\r\n    POINTS_LOADED,\r\n    LOGIN,\r\n    LOGOUT,\r\n    ASYNC_START, POINTS_RECALCULATED\r\n} from './constants/actionTypes';\r\n\r\nconst promiseMiddleware = store => next => action => {\r\n    if (isPromise(action.payload)) {\r\n        store.dispatch({ type: ASYNC_START, subtype: action.type });\r\n        action.payload.then(\r\n            res => {\r\n                action.payload = res;\r\n                store.dispatch(action);\r\n            },\r\n            error => {\r\n                action.error = true;\r\n                action.payload = error.response.body;\r\n                store.dispatch(action);\r\n            }\r\n        );\r\n\r\n        return;\r\n    }\r\n\r\n    next(action);\r\n};\r\n\r\nfunction isPromise(v) {\r\n    return v && typeof v.then === 'function';\r\n}\r\n\r\nconst pointsMiddleware = store => next => action => {\r\n\r\n    switch (action.type) {\r\n        case POINTS_LOADED:\r\n            if (action.error) {\r\n                window.localStorage.removeItem('token');\r\n                window.localStorage.removeItem('username');\r\n                agent.setToken(null);\r\n            }\r\n            break;\r\n        case POINT_ADDED:\r\n            if (!action.error) {\r\n                store.dispatch({ type: POINTS_LOADED, payload: agent.Points.all() });\r\n                store.dispatch({ type: POINTS_RECALCULATED, payload: agent.Points.recalculated(action.r), r: action.r});\r\n            }\r\n            break;\r\n        default:\r\n            break;\r\n    }\r\n\r\n    next(action);\r\n};\r\n\r\n\r\nconst authMiddleware = store => next => action => {\r\n\r\n    switch (action.type) {\r\n        case LOGIN:\r\n            if (!action.error) {\r\n                window.localStorage.setItem('token', action.payload.message);\r\n                window.localStorage.setItem('username', action.username);\r\n                agent.setToken(action.payload.message);\r\n            }\r\n            break;\r\n        case LOGOUT:\r\n            window.localStorage.removeItem('token');\r\n            window.localStorage.removeItem('username');\r\n            agent.setToken(null);\r\n            break;\r\n        default:\r\n            break;\r\n    }\r\n\r\n    next(action);\r\n};\r\n\r\n\r\nexport {\r\n    authMiddleware,\r\n    pointsMiddleware,\r\n    promiseMiddleware\r\n};\r\n","import {\r\n    LOGIN,\r\n    REGISTER,\r\n    LOGOUT,\r\n    REDIRECT,\r\n    APP_LOAD\r\n} from '../constants/actionTypes';\r\n\r\nconst defaultState = {\r\n    appName: 'Лабораторная работа №4',\r\n    token: null\r\n};\r\n\r\nexport default (state = defaultState, action) => {\r\n    switch (action.type) {\r\n        case APP_LOAD:\r\n            return {\r\n                ...state,\r\n                token: action.token || null,\r\n                appLoaded: true,\r\n                currentUser: action.username || null\r\n            };\r\n        case REDIRECT:\r\n            return { ...state, redirectTo: null };\r\n        case LOGOUT:\r\n            return { ...state, redirectTo: '/', token: null, currentUser: null };\r\n        case LOGIN:\r\n            return {\r\n                ...state,\r\n                redirectTo: action.error ? null : '/',\r\n                currentUser: action.error ? null : action.username\r\n            };\r\n        case REGISTER:\r\n            return {\r\n                ...state,\r\n                redirectTo: action.error ? null : '/login'\r\n            };\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n","import { applyMiddleware, createStore, combineReducers } from 'redux';\r\nimport {authMiddleware, pointsMiddleware, promiseMiddleware} from './middleware';\r\nimport auth from './reducers/auth';\r\nimport common from './reducers/common';\r\nimport points from './reducers/points';\r\n\r\n\r\nconst reducers = combineReducers({\r\n    auth,\r\n    common,\r\n    points\r\n});\r\n\r\nconst middleware = applyMiddleware(promiseMiddleware, authMiddleware, pointsMiddleware);\r\n\r\nconst store = createStore(reducers, middleware);\r\n\r\nexport default store;\r\n","import {\r\n    LOGIN,\r\n    REGISTER,\r\n    ASYNC_START,\r\n    UPDATE_FIELD_AUTH\r\n} from '../constants/actionTypes';\r\n\r\nexport default (state = {}, action) => {\r\n    switch (action.type) {\r\n        case LOGIN:\r\n        case REGISTER:\r\n            return {\r\n                ...state,\r\n                inProgress: false,\r\n                errors: action.error ? action.payload.message : null\r\n            };\r\n        case ASYNC_START:\r\n            if (action.subtype === LOGIN || action.subtype === REGISTER) {\r\n                return { ...state, inProgress: true };\r\n            }\r\n            return state;\r\n        case UPDATE_FIELD_AUTH:\r\n            return { ...state, [action.key]: action.value };\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n","import {\r\n    POINT_ADDED,\r\n    POINTS_LOADED,\r\n    POINTS_RECALCULATED,\r\n    UPDATE_FIELD_POINT,\r\n    UPDATE_WITH_MESSAGE\r\n} from '../constants/actionTypes';\r\n\r\nexport default (state={'rc':1, 'yc':0, 'xc':0}, action) => { //added default radius and y\r\n    switch (action.type) {\r\n        case UPDATE_FIELD_POINT: {\r\n            var message = '';\r\n            if ((action.key=='xc' && (parseFloat(action.value) <= -5 || parseFloat(action.value) >= 5 || !(!isNaN( Number(action.value) ) && String(action.value).lastIndexOf('.') != (action.value.length - 1))))\r\n                || ((parseFloat(state.xc) <= -5 || parseFloat(state.xc) >=5 || !(!isNaN( Number(state.xc) ) && String(state.xc).lastIndexOf('.') != (state.xc.length - 1))) && action.key!='xc')) {\r\n                //alert('action.key + action.value' + action.key + ' ' + action.value);\r\n                //alert('state.xc ' + state.sc);\r\n                message += 'X нехороший';\r\n            }\r\n            if ((action.key=='yc' && (parseFloat(action.value) <= -5 || parseFloat(action.value) >= 5 || !(!isNaN( Number(action.value) ) && String(action.value).lastIndexOf('.') != (action.value.length - 1))))\r\n                || ((parseFloat(state.yc) <= -5 || parseFloat(state.yc) >=5 || !(!isNaN( Number(state.yc) ) && String(state.yc).lastIndexOf('.') != (state.yc.length - 1))) && action.key!='yc')) {\r\n                //alert('action.key + action.value' + action.key + ' ' + action.value);\r\n                //alert('state.yc ' + state.yc);\r\n                message += 'Y нехороший';\r\n            }\r\n            if ((action.key=='rc' && (parseFloat(action.value) <= 0 || parseFloat(action.value) >=5 ) ) || (parseFloat(state.rc) <= 0 && action.key!='rc')) {\r\n                //alert(action.key + ' ' + action.value);\r\n                message += 'Я такие извращения не рисую'\r\n                if (action.key=='rc') {\r\n                    action.value = 0;\r\n                }\r\n            }\r\n            return { ...state, [action.key]: action.value, message };\r\n        }\r\n        case UPDATE_WITH_MESSAGE:\r\n            return {\r\n                ...state,\r\n                message: action.message,\r\n                [action.key]: action.value\r\n            }\r\n        case POINT_ADDED:\r\n            return {\r\n                ...state,\r\n                point: action.payload\r\n            };\r\n        case POINTS_LOADED:\r\n            return {\r\n                ...state,\r\n                points: action.payload,\r\n            };\r\n        case POINTS_RECALCULATED:\r\n            return {\r\n                ...state,\r\n                points_r: action.payload,\r\n                current_r: action.r\r\n            };\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\n","import React from 'react';\r\n\r\nconst PointRow = props => {\r\n    const point = props.point;\r\n\r\n    return (\r\n        <tbody>\r\n        <tr>\r\n            <td>{point.id}</td>\r\n            <td>{String(point.x).substring(0, 10)}</td>\r\n            <td>{String(point.y).substring(0, 10)}</td>\r\n            <td>{point.r}</td>\r\n            <td>{point.result ? 'Да' : 'Нет'}</td>\r\n        </tr>\r\n        </tbody>\r\n    );\r\n};\r\n\r\nexport default PointRow;\r\n","import React from 'react';\r\nimport PointRow from \"./PointRow\";\r\n\r\nconst PointsList = props => {\r\n    if (props.currentUser) {\r\n        if (!props.points) {\r\n            return (\r\n                <div className=\"points\">Loading...</div>\r\n            );\r\n        }\r\n\r\n        if (props.points.length === 0) {\r\n            return (\r\n                <div className=\"points\">\r\n                    Точек пока нет запятых тоже\r\n                </div>\r\n            );\r\n        }\r\n\r\n        return (\r\n            <div>\r\n                <table>\r\n                    <tbody>\r\n                    <tr>\r\n                        <th>Id</th>\r\n                        <th>X</th>\r\n                        <th>Y</th>\r\n                        <th>R</th>\r\n                        <th>HIT</th>\r\n                    </tr>\r\n                    </tbody>\r\n\r\n                {\r\n                    props.points.sort((a,b) => b.id-a.id).map(point => { // maybe reverse list\r\n                        return (\r\n                            <PointRow point={point} key={point.id}/>\r\n                        );\r\n                    })\r\n                }\r\n                </table>\r\n            </div>\r\n        );\r\n    } else\r\n        return null;\r\n};\r\n\r\nexport default PointsList;\r\n","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport PointsList from \"../PointsList\";\r\n\r\nconst mapStateToProps = state => ({\r\n    points: state.points.points,\r\n    currentUser: state.common.currentUser\r\n});\r\n\r\nconst MainView = props => {\r\n    return (\r\n        <div className=\"col-md-9 points-table\">\r\n            <PointsList\r\n                points={props.points} currentUser={props.currentUser}/>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default connect(mapStateToProps, () => ({}))(MainView);\r\n","import React from 'react';\r\n\r\nclass ListErrors extends React.Component {\r\n    render() {\r\n        const errors = this.props.errors;\r\n        if (errors) {\r\n            return (\r\n                <ul className=\"error-messages\">\r\n                    <li key={errors}>\r\n                        {errors}\r\n                    </li>\r\n                </ul>\r\n            );\r\n        } else {\r\n            return null;\r\n        }\r\n    }\r\n}\r\n\r\nexport default ListErrors;\r\n","import React from 'react';\r\nimport ListErrors from '../ListErrors';\r\nimport agent from '../../agent';\r\nimport { connect } from 'react-redux';\r\nimport { POINT_ADDED, UPDATE_FIELD_POINT, UPDATE_WITH_MESSAGE } from \"../../constants/actionTypes\";\r\nimport { Select, TextInput, Option, Placeholder } from 'belle';\r\n\r\nconst mapStateToProps = state => ({ ...state.points });\r\n\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n    onChangeX: value =>\r\n        dispatch({ type: UPDATE_FIELD_POINT, key: 'xc', value }),\r\n    onChangeY: value =>\r\n        dispatch({ type: UPDATE_FIELD_POINT, key: 'yc', value }),\r\n    onChangeR: value =>\r\n        dispatch({ type: UPDATE_FIELD_POINT, key: 'rc', value }),\r\n    onChangeMsg: value =>\r\n        dispatch({ type: UPDATE_FIELD_POINT, key: 'message', value }),// todo\r\n    onSubmit: (x, y, r) => {\r\n        dispatch({ type: POINT_ADDED, payload: agent.Points.new(x, y, r), r })\r\n    },\r\n    changeWithMsg: (varname, value, msg) => {\r\n        dispatch({ type: UPDATE_WITH_MESSAGE, key: varname, value, message: msg })\r\n    }\r\n});\r\n\r\nclass PointInput extends React.Component {\r\n\r\n    changeX = ev => this.props.onChangeX(ev.target.value.substring(0, 10));\r\n\r\n    changeY = ev => this.props.onChangeY(ev.target.value.substring(0, 10));\r\n\r\n    changeR = ev => this.props.onChangeR(ev.value);\r\n\r\n\r\n    submitForm = (x, y, r) => ev => {\r\n        ev.preventDefault();\r\n\r\n        this.props.onSubmit(x, y, r);\r\n    };\r\n\r\n    render() {\r\n        const x = this.props.xc;\r\n        const y = this.props.yc;\r\n        const r = this.props.rc;\r\n        const msg = this.props.message;\r\n\r\n        //alert(x+' '+y+' '+r+' '+msg);\r\n\r\n        return (\r\n            <div className=\"auth-page\">\r\n                <div className=\"container page\">\r\n                    <div className=\"row\">\r\n\r\n                        <div className=\"col-md-6 offset-md-3 col-xs-12\">\r\n\r\n                            <ListErrors errors={this.props.errors} />\r\n\r\n                            <form onSubmit={this.submitForm(x, y, r)}>\r\n                                <fieldset>\r\n\r\n                                    <div className=\"message\">{msg}</div>\r\n\r\n                                    <fieldset className=\"form-group\">\r\n                                        X:<TextInput className=\"form-control form-control-lg\" onChange={this.changeX} value={x} placeholder=\"(-5;5)\"></TextInput>\r\n                                    </fieldset>\r\n\r\n                                    <fieldset className=\"form-group\">\r\n                                        Y:<TextInput className=\"form-control form-control-lg\" onChange={this.changeY} value={y} placeholder=\"(-5;5)\"></TextInput>\r\n                                    </fieldset>\r\n\r\n                                    <fieldset className=\"form-group\">\r\n                                        R:<TextInput className=\"form-control form-control-lg\" onUpdate={this.changeR} value={r} placeholder=\"(-5;5)\"></TextInput>\r\n                                    </fieldset>\r\n\r\n\r\n                                    <button\r\n                                        className=\"btn btn-lg btn-primary pull-xs-right\"\r\n                                        type=\"submit\"\r\n                                        disabled={msg && msg != ''}>\r\n                                        CHECK\r\n                                    </button>\r\n\r\n                                </fieldset>\r\n                            </form>\r\n                        </div>\r\n\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(PointInput);\r\n","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport agent from \"../../agent\";\r\nimport {POINT_ADDED, POINTS_RECALCULATED} from \"../../constants/actionTypes\";\r\n\r\nconst mapStateToProps = state => ({\r\n    points: state.points.points_r,\r\n    rc: state.points.rc,\r\n    current_r: state.points.current_r\r\n});\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n    recalculatedPoints: (r) => {\r\n        dispatch({ type: POINTS_RECALCULATED, payload: agent.Points.recalculated(r), r})\r\n    },\r\n    onCanvasClick: (x, y, r) => {\r\n        dispatch({ type: POINT_ADDED, payload: agent.Points.new(x, y, r), r})\r\n    }\r\n});\r\n\r\nclass Graphic extends React.Component {\r\n\r\n    addPointFromCanvas = this.addPointFromCanvas.bind(this);\r\n\r\n\r\n    componentWillMount() {\r\n        this.props.recalculatedPoints(1);\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.drawGraphic(1);\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"graphic\">\r\n                <canvas width=\"300\" height=\"300\" ref={node => this.graphic = node} onClick={this.addPointFromCanvas}>\r\n                </canvas>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    componentWillReceiveProps(nextProps){\r\n        if (nextProps.rc) {\r\n            this.drawGraphic(nextProps.rc);\r\n            if (!nextProps.current_r || nextProps.current_r !== nextProps.rc)\r\n                this.props.recalculatedPoints(nextProps.rc);\r\n        }\r\n        if (nextProps.points) {\r\n            nextProps.points.map(point => this.drawPoint(point));\r\n        }\r\n    }\r\n\r\n    drawPoint(point) {\r\n\r\n        let x = point.x, y = point.y, hit = point.result;\r\n\r\n        // console.log('Marking point ' + x + ', ' + y + ', ' + hit);\r\n\r\n        let context = this.graphic.getContext(\"2d\");\r\n\r\n        context.beginPath();\r\n        context.arc(Math.round(150 + ((x / 5) * 130)) - 3, Math.round(150 - ((y / 5) * 130)) - 3, 3, 0, Math.PI*2, false);\r\n        //context.rect(Math.round(150 + ((x / 5) * 130)) - 3, Math.round(150 - ((y / 5) * 130)) - 3, 6, 6);\r\n        context.closePath();\r\n        context.strokeStyle = 'black';\r\n\r\n        let color = 'red';\r\n\r\n        if (hit) {\r\n            color = 'lime';\r\n        }\r\n\r\n        context.fillStyle = color;\r\n        context.fill();\r\n        context.stroke();\r\n\r\n    }\r\n\r\n    addPointFromCanvas(ev) {\r\n        console.log(`Click on ${this}`);\r\n        if (this.props.rc <= 0) return; // todo\r\n\r\n        let br = this.graphic.getBoundingClientRect();\r\n        let left = br.left;\r\n        let top = br.top;\r\n\r\n        let event = ev;\r\n        let x = event.clientX - left;\r\n        let y = event.clientY - top;\r\n        console.log(`x=${x} y=${y}`);\r\n\r\n        let xCalculated = (x - 150) / 130 * 5;\r\n        let yCalculated = (-y + 150) / 130 * 5;\r\n\r\n        this.props.onCanvasClick(xCalculated, yCalculated, this.props.rc || 1);\r\n\r\n    }\r\n\r\n    drawGraphic(r) {\r\n        console.log(\"Drawing graphic with R=\"+r);\r\n        let context = this.graphic.getContext(\"2d\");\r\n        context.clearRect(0, 0, this.graphic.width, this.graphic.height);\r\n\r\n        // rectangle\r\n        context.beginPath();\r\n        context.rect(150-r*13*2, 150-r*13*2, (r)*13*2, (r)*13*2);\r\n        context.closePath();\r\n        context.strokeStyle = \"#2f9aff\";\r\n        context.fillStyle = \"#2f9aff\";\r\n        context.fill();\r\n        context.stroke();\r\n\r\n        // sector\r\n        context.beginPath();\r\n        context.moveTo(150, 150);\r\n        context.arc(150, 150, 130*(r/5), 0, Math.PI/2, false);\r\n        context.closePath();\r\n        context.strokeStyle = \"#2f9aff\";\r\n        context.fillStyle = \"#2f9aff\";\r\n        context.fill();\r\n        context.stroke();\r\n\r\n        // triangle\r\n        context.beginPath();\r\n        context.moveTo(150, 150);\r\n        context.lineTo(150-r*13*2, 150);\r\n        context.lineTo(150, 150+r*13);\r\n        context.lineTo(150, 150);\r\n        context.closePath();\r\n        context.strokeStyle = \"#2f9aff\";\r\n        context.fillStyle = \"#2f9aff\";\r\n        context.fill();\r\n        context.stroke();\r\n\r\n        // axes\r\n        context.beginPath();\r\n        context.font = \"10px Verdana\";\r\n        context.strokeStyle = \"black\";\r\n        context.fillStyle = \"black\";\r\n        context.moveTo(150, 0);\r\n        context.lineTo(150, 300);\r\n        context.moveTo(150, 0);\r\n        context.lineTo(145, 15);\r\n        context.moveTo(150, 0);\r\n        context.lineTo(155, 15);\r\n        context.fillText(\"Y\", 160, 10);\r\n        context.moveTo(0, 150);\r\n        context.lineTo(300, 150);\r\n        context.moveTo(300, 150);\r\n        context.lineTo(285, 145);\r\n        context.moveTo(300, 150);\r\n        context.lineTo(285, 155);\r\n        context.fillText(\"X\", 290, 130);\r\n\r\n        // Y parts\r\n        context.moveTo(145, 20);\r\n        context.lineTo(155, 20);\r\n        context.fillText(' 5', 160, 20);\r\n        context.moveTo(145, 46);\r\n        context.lineTo(155, 46);\r\n        context.fillText(' 4', 160, 46);\r\n        context.moveTo(145, 72);\r\n        context.lineTo(155, 72);\r\n        context.fillText(' 3', 160, 72);\r\n        context.moveTo(145, 98);\r\n        context.lineTo(155, 98);\r\n        context.fillText(' 2', 160, 98);\r\n        context.moveTo(145, 124);\r\n        context.lineTo(155, 124);\r\n        context.fillText(' 1', 160, 124);\r\n\r\n        context.moveTo(145, 176);\r\n        context.lineTo(155, 176);\r\n        context.fillText('-1', 160, 176);\r\n        context.moveTo(145, 202);\r\n        context.lineTo(155, 202);\r\n        context.fillText('-2', 160, 202);\r\n        context.moveTo(145, 228);\r\n        context.lineTo(155, 228);\r\n        context.fillText('-3', 160, 228);\r\n        context.moveTo(145, 254);\r\n        context.lineTo(155, 254);\r\n        context.fillText('-4', 160, 254);\r\n        context.moveTo(145, 280);\r\n        context.lineTo(155, 280);\r\n        context.fillText('-5', 160, 280);\r\n\r\n        // X parts\r\n        context.moveTo(20, 145);\r\n        context.lineTo(20, 155);\r\n        context.fillText('-5', 13, 140);\r\n        context.moveTo(46, 145);\r\n        context.lineTo(46, 155);\r\n        context.fillText('-4', 39, 140);\r\n        context.moveTo(72, 145);\r\n        context.lineTo(72, 155);\r\n        context.fillText('-3', 65, 140);\r\n        context.moveTo(98, 145);\r\n        context.lineTo(98, 155);\r\n        context.fillText('-2', 91, 140);\r\n        context.moveTo(124, 145);\r\n        context.lineTo(124, 155);\r\n        context.fillText('-1', 117, 140);\r\n\r\n        context.moveTo(176, 145);\r\n        context.lineTo(176, 155);\r\n        context.fillText(' 1', 169, 140);\r\n        context.moveTo(202, 145);\r\n        context.lineTo(202, 155);\r\n        context.fillText(' 2', 195, 140);\r\n        context.moveTo(228, 145);\r\n        context.lineTo(228, 155);\r\n        context.fillText(' 3', 221, 140);\r\n        context.moveTo(254, 145);\r\n        context.lineTo(254, 155);\r\n        context.fillText(' 4', 247, 140);\r\n        context.moveTo(280, 145);\r\n        context.lineTo(280, 155);\r\n        context.fillText(' 5', 273, 140);\r\n\r\n        context.closePath();\r\n        context.strokeStyle = \"black\";\r\n        context.fillStyle = \"black\";\r\n        context.stroke();\r\n\r\n    }\r\n\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Graphic);\r\n","import MainView from './MainView';\r\nimport React from 'react';\r\nimport agent from '../../agent';\r\nimport { connect } from 'react-redux';\r\nimport PointInput from \"./PointInput\";\r\nimport Graphic from \"./Graphic\";\r\nimport { POINTS_LOADED } from \"../../constants/actionTypes\";\r\n\r\nconst mapStateToProps = state => ({\r\n    appName: state.common.appName,\r\n    currentUser: state.common.currentUser,\r\n});\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n    onLoad: (payload) =>\r\n        dispatch({ type: POINTS_LOADED, payload }),\r\n});\r\n\r\nclass Home extends React.Component {\r\n\r\n\r\n    componentWillMount() {\r\n        if (this.props.currentUser)\r\n            this.props.onLoad(agent.Points.all());\r\n    }\r\n\r\n    render() {\r\n        if (this.props.currentUser) {\r\n            return (\r\n                <div className=\"home-page\">\r\n\r\n                    <Graphic/>\r\n                    <PointInput/>\r\n\r\n                    <div className=\"container page points-table\">\r\n                        <MainView/>\r\n                    </div>\r\n\r\n                </div>\r\n            );\r\n        } else\r\n            return null;\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Home);\r\n","import { Link } from 'react-router';\r\nimport ListErrors from './ListErrors';\r\nimport React from 'react';\r\nimport agent from '../agent';\r\nimport { connect } from 'react-redux';\r\nimport {LOGIN, UPDATE_FIELD_AUTH} from \"../constants/actionTypes\";\r\n\r\nconst mapStateToProps = state => ({ ...state.auth });\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n    onChangeUsername: value =>\r\n        dispatch({ type: UPDATE_FIELD_AUTH, key: 'username', value }),\r\n    onChangePassword: value =>\r\n        dispatch({ type: UPDATE_FIELD_AUTH, key: 'password', value }),\r\n    onSubmit: (username, password) =>\r\n        dispatch({ type: LOGIN, payload: agent.Auth.login(username, password), username })\r\n});\r\n\r\nclass Login extends React.Component {\r\n\r\n    changeUsername = ev => this.props.onChangeUsername(ev.target.value);\r\n\r\n    changePassword = ev => this.props.onChangePassword(ev.target.value);\r\n\r\n    submitForm = (username, password) => ev => {\r\n        ev.preventDefault();\r\n        this.props.onSubmit(username, password);\r\n    };\r\n\r\n    render() {\r\n        const username = this.props.username;\r\n        const password = this.props.password;\r\n        return (\r\n            <div className=\"auth-page\">\r\n                <div className=\"container page\">\r\n                    <div className=\"row\">\r\n\r\n                        <div className=\"col-md-6 offset-md-3 col-xs-12\">\r\n                            <h1 className=\"text-xs-center\">Sign In</h1>\r\n                            <p className=\"text-xs-center\">\r\n                                <Link to=\"register\">\r\n                                    Need an account?\r\n                                </Link>\r\n                            </p>\r\n\r\n                            <ListErrors errors={this.props.errors} />\r\n\r\n                            <form onSubmit={this.submitForm(username, password)}>\r\n                                <fieldset>\r\n\r\n                                    <fieldset className=\"form-group\">\r\n                                        <input\r\n                                            className=\"form-control form-control-lg\"\r\n                                            type=\"email\"\r\n                                            placeholder=\"Username\"\r\n                                            value={username}\r\n                                            onChange={this.changeUsername} />\r\n                                    </fieldset>\r\n\r\n                                    <fieldset className=\"form-group\">\r\n                                        <input\r\n                                            className=\"form-control form-control-lg\"\r\n                                            type=\"password\"\r\n                                            placeholder=\"Password\"\r\n                                            value={password}\r\n                                            onChange={this.changePassword} />\r\n                                    </fieldset>\r\n\r\n                                    <button\r\n                                        className=\"btn btn-lg btn-primary pull-xs-right\"\r\n                                        type=\"submit\"\r\n                                        disabled={this.props.inProgress}>\r\n                                        Sign in\r\n                                    </button>\r\n\r\n                                </fieldset>\r\n                            </form>\r\n                        </div>\r\n\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Login);\r\n","import { Link } from 'react-router';\r\nimport ListErrors from './ListErrors';\r\nimport React from 'react';\r\nimport agent from '../agent';\r\nimport { connect } from 'react-redux';\r\nimport {REGISTER, UPDATE_FIELD_AUTH} from \"../constants/actionTypes\";\r\n\r\nconst mapStateToProps = state => ({ ...state.auth });\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n    onChangePassword: value =>\r\n        dispatch({ type: UPDATE_FIELD_AUTH, key: 'password', value }),\r\n    onChangeUsername: value =>\r\n        dispatch({ type: UPDATE_FIELD_AUTH, key: 'username', value }),\r\n    onSubmit: (username, password) => {\r\n        const payload = agent.Auth.register(username, password);\r\n        dispatch({ type: REGISTER, payload })\r\n    }\r\n});\r\n\r\nclass Register extends React.Component {\r\n\r\n    changePassword = ev => this.props.onChangePassword(ev.target.value);\r\n\r\n    changeUsername = ev => this.props.onChangeUsername(ev.target.value);\r\n\r\n    submitForm = (username, password) => ev => {\r\n        ev.preventDefault();\r\n        this.props.onSubmit(username, password);\r\n    };\r\n\r\n    render() {\r\n        const password = this.props.password;\r\n        const username = this.props.username;\r\n\r\n        return (\r\n            <div className=\"auth-page\">\r\n                <div className=\"container page\">\r\n                    <div className=\"row\">\r\n\r\n                        <div className=\"col-md-6 offset-md-3 col-xs-12\">\r\n                            <h1 className=\"text-xs-center\">Sign Up</h1>\r\n                            <p className=\"text-xs-center\">\r\n                                <Link to=\"login\">\r\n                                    Have an account?\r\n                                </Link>\r\n                            </p>\r\n\r\n                            <ListErrors errors={this.props.errors} />\r\n\r\n                            <form onSubmit={this.submitForm(username, password)}>\r\n                                <fieldset>\r\n\r\n                                    <fieldset className=\"form-group\">\r\n                                        <input\r\n                                            className=\"form-control form-control-lg\"\r\n                                            type=\"email\"\r\n                                            placeholder=\"Username\"\r\n                                            value={this.props.username}\r\n                                            onChange={this.changeUsername} />\r\n                                    </fieldset>\r\n\r\n                                    <fieldset className=\"form-group\">\r\n                                        <input\r\n                                            className=\"form-control form-control-lg\"\r\n                                            type=\"password\"\r\n                                            placeholder=\"Password\"\r\n                                            value={this.props.password}\r\n                                            onChange={this.changePassword} />\r\n                                    </fieldset>\r\n\r\n                                    <button\r\n                                        className=\"btn btn-lg btn-primary pull-xs-right\"\r\n                                        type=\"submit\"\r\n                                        disabled={this.props.inProgress}>\r\n                                        Sign up\r\n                                    </button>\r\n\r\n                                </fieldset>\r\n                            </form>\r\n                        </div>\r\n\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Register);\r\n","import App from './components/App';\r\nimport { Provider } from 'react-redux';\r\nimport ReactDOM from 'react-dom';\r\nimport React from 'react';\r\nimport store from \"./store\";\r\nimport {Router, Route, IndexRoute, browserHistory} from 'react-router';\r\nimport Home from './components/Home';\r\nimport Login from './components/Login';\r\nimport Register from \"./components/Register\";\r\nimport 'bootstrap/dist/css/bootstrap.css';\r\nimport './custom.scss';\r\n\r\n\r\nReactDOM.render((\r\n    <Provider store={store}>\r\n        <Router history={browserHistory}>\r\n            <Route path=\"/\" component={App}>\r\n                <IndexRoute component={Home}/>\r\n                <Route path=\"login\" component={Login} />\r\n                <Route path=\"register\" component={Register} />\r\n            </Route>\r\n        </Router>\r\n    </Provider>\r\n), document.getElementById('root'));\r\n","import superagentPromise from 'superagent-promise';\r\nimport _superagent from 'superagent';\r\n\r\nconst superagent = superagentPromise(_superagent, global.Promise);\r\n\r\nconst API_ROOT = 'http://localhost:48984/api';\r\n\r\nconst responseBody = res => res.body;\r\n\r\nlet token = null;\r\nconst tokenPlugin = req => {\r\n    if (token) {\r\n        req.set('Authorization', `Basic ${token}`);\r\n    }\r\n};\r\n\r\nconst requests = {\r\n    get: url =>\r\n        superagent.get(`${API_ROOT}${url}`).use(tokenPlugin).then(responseBody),\r\n    post: (url, body) =>\r\n        superagent.post(`${API_ROOT}${url}`, body).use(tokenPlugin).then(responseBody),\r\n};\r\n\r\nconst Points = {\r\n    all: () =>\r\n        requests.get('/points'),\r\n    recalculated: (r) =>\r\n        requests.get(`/points/recalculate?r=${r}`),\r\n    new: (x, y, r) =>\r\n        requests.post('/points', {x: x, y: y, r: r})\r\n};\r\n\r\nconst Auth = {\r\n    login: (username, password) =>\r\n        requests.post('/users/login', { username: username, password: password }),\r\n    register: (username, password) =>\r\n        requests.post('/users/register', { username: username, password: password } ),\r\n    logout: () =>\r\n        requests.post('/users/logout'),\r\n};\r\n\r\nexport default {\r\n    Points,\r\n    Auth,\r\n    setToken: _token => { token = _token; }\r\n};\r\n"],"sourceRoot":""}